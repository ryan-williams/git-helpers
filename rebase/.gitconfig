[alias]
  dtc     = diff-theirs-conflicting
  dth     = diff-theirs
  dthc    = diff-theirs-conflicting
  ec      = edit-commit
  ecm     = edit-commit -m
  ecn     = edit-commit -n
  ecnp    = edit-commit -n -p
  ecnx    = edit-commit -n -x
  ecp     = edit-commit -p
  ecpm    = edit-commit -p -m
  ecr     = edit-commit -r
  ecrn    = edit-commit -r -n
  ecrp    = edit-commit -r -p
  ecrpn   = edit-commit -r -p -n
  ecx     = edit-commit -x
  ecxn    = edit-commit -n -x
  blr     = head-before-last-rebase
  hblr    = head-before-last-rebase
  hblrs   = head-before-last-rebase %h
  rb      = rebase
  rba     = rebase --abort
  rbc     = rebase --continue
  rbci    = rebase-preserve-commit-info -i
  rbcia   = rebase-preserve-commit-info
  crb     = checkout-and-rebase
  crh     = commit-rebase-head
  carb    = checkout-and-rebase
  corb    = checkout-and-rebase
  crbh    = commit-rebase-head
  mh      = merge-head
  prhl    = pre-rebase-head-log-pretty
  prhlh   = pre-rebase-head-log
  rhl     = pre-rebase-head-log-pretty
  rhlh    = pre-rebase-head-log
  rbh     = rebase-head
  rbhm    = rebase-head-message
  rebase-dag = rebase-dag.py
  rbd     = rebase-dag.py
  rbi     = rebase-inline
  rni    = rebase-noninteractive
  rnin   = rebase-noninteractive -n
  rbb     = rebase-branches
  rbm     = rebase-head-message
  rbmb    = rebase-merge-base
  rmb     = rebase-merge-base
  rbo     = rebase --onto
  rbr     = rebase -r
  rbro    = rebase -r --onto
  rbrio   = rebase -r -i --onto
  rbor    = rebase -r --onto
  rbori   = rebase -r -i --onto
  rbot    = rebase-onto
  rbp     = rebase-parent
  rbs     = rebase --skip
  rbu     = rebase-undo
  rbud    = rebase-upstream-diff
  rc      = rebase --continue
  rci     = reset-committer-rebase-head
  rcr     = reset-committer-rebase-head
  rcrbh   = reset-committer-rebase-head
  ptc     = preserve-tree-and-committer
  rd      = rebase-diff
  rds     = rebase-diff --stat
  ret     = rebase --edit-todo
  ri      = rebase -i
  rio     = rebase -i --onto
  rir     = rebase -i -r
  rit     = rebase -i --root
  rlrb    = revert-last-rebase
  ro      = rebase --onto
  rri     = rebase -r -i
  rrio    = rebase -r -i --onto
  rro     = rebase -r --onto
  rud     = rebase-upstream-diff
  rix     = rebase -i -x
  rtx     = rebase --root -x
  rx      = rebase -x
  rhm     = rebase-head-message
  rim     = rebase -i master
  rq      = rebase-sequence
  reword-commit = edit-commit -r
  rwc     = reword-commit
  rxa     = rebase-x-amend
  rxs     = rebase-exec-step
  rxsa    = rebase-exec-step -a
  rxx     = rebase-exec-step
  rxxa    = rebase-exec-step -a
  ar      = add-rebase-continue
  arc     = add-rebase-continue
  arcn    = add-rebase-continue-no-edit
  arn     = add-rebase-continue-no-edit
  rn      = add-rebase-continue-no-edit
  oc      = original-commit
  oh      = original-head
  ot      = rebase-onto
  onto    = rebase-onto
  mb      = rebase-merge-base

  ; Refspec range aliases for rebase comparisons
  ; See rebase/REBASE-REFSPECS.md for documentation
  ;
  ; Key refs during rebase:
  ;   mb = merge-base(oh, ot) — where feature diverged
  ;   oh = ORIG_HEAD — original feature tip
  ;   ot = onto — commit we're rebasing onto
  ;   rh = REBASE_HEAD — commit currently being replayed
  ;   h  = HEAD — current position on new lineage
  ;
  ; Useful comparison pairs for git-didi:
  ;   1. mboh vs mbot — feature changes vs upstream changes
  ;   2. mbrhp vs oth — mid-rebase: processed so far vs replayed
  ;   3. mboh vs oth — post-rebase: all original vs all replayed

  ; Refspec range aliases (print range string)
  ; Use explicit error checking so failures propagate (not swallowed by echo)
  mb-to-oh = "!mb=$(git mb) || exit $?; oh=$(git oh) || exit $?; echo $mb..$oh"
  mb-to-ot = "!mb=$(git mb) || exit $?; ot=$(git ot) || exit $?; echo $mb..$ot"
  mb-to-rh = "!mb=$(git mb) || exit $?; rh=$(git rbh) || exit $?; echo $mb..$rh"
  mb-to-rhp = "!mb=$(git mb) || exit $?; rh=$(git rbh) || exit $?; echo $mb..$rh^"
  ot-to-h = "!ot=$(git ot) || exit $?; echo $ot..HEAD"
  rh-parent-to-rh = "!rh=$(git rbh) || exit $?; echo $rh^..$rh"
  mboh    = mb-to-oh
  mbot    = mb-to-ot
  mbrh    = mb-to-rh
  mbrhp   = mb-to-rhp
  mbrp    = mb-to-rhp
  oth     = ot-to-h
  rprh    = rh-parent-to-rh
  ; commit-refspec: expand ref to ref^..ref
  commit-refspec = "!echo $1^..$1 #"
  crs     = commit-refspec

  ; Diff shortcuts for common comparisons
  diff-mboh = "!git diff $(git mb)..$(git oh)"
  diff-mbot = "!git diff $(git mb)..$(git ot)"
  diff-oth = "!git diff $(git ot)..HEAD"
  dmboh   = diff-mboh
  dmbot   = diff-mbot
  doth    = diff-oth
  dmbohs  = "!git diff --stat $(git mb)..$(git oh)"
  dmbots  = "!git diff --stat $(git mb)..$(git ot)"
  doths   = "!git diff --stat $(git ot)..HEAD"
  roc     = reorder-commits
  rocn    = reorder-commits -n
  sho     = squash-head-onto
  shon    = squash-head-onto -n
  shoc    = show-original-commit
  shmh    = show-merge-head
  shoh    = show-original-head
  shr     = show-rebase-head
  shrh    = show-rebase-head
  shrm    = rebase-head-message
  shrp    = show-rebase-parent
  shrw    = show-rebase-head -w
  sqsq    = squash-sequence
  srh     = show-rebase-head
  srp     = show-rebase-parent
  srpw    = show-rebase-parent -w
  srw     = show-rebase-head -w
  swr     = show-rebase-head -w
  tw      = throw.py
  twa     = throw.py -a
  twap    = throw.py -a HEAD^
  twap2   = throw.py -a HEAD~2
  twap3   = throw.py -a HEAD~3
  twap4   = throw.py -a HEAD~4
  twap5   = throw.py -a HEAD~5
  twp     = throw.py HEAD^
  twp2    = throw.py HEAD~2
  twp3    = throw.py HEAD~3
  throw-head = squash-head-onto
  twh     = throw-head
  twhn    = throw-head -n
  urb     = undo-rebase
